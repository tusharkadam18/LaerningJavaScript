<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="formdata.js"></script>
    <script src="libs/jquery-3.6.3.min.js"></script>
    <title>Useofform</title>
</head>

<body>
    <h1>here we are using the form for use of localStorage</h1>
    <hr>
    <form>
        <p>Enter the username: <input type="text" id="name"></p>
        <p>Enter the Password: <input type="password" id="pass"></p>
        <p>Enter The EmailId: <input type="email" id="mail"></p>
        <p><button onclick="saveData()" id="1">Add to database</button></p>
        <p><button onclick="showData()" id="2">Show Data</button></p>
    </form>
    <table id="tbl" border="1" style="margin: 1%;">
        <tr>
            <td>Name</td>
            <td>Email</td>
        </tr>
    </table>
    <script>
        function saveData() {
            const username = document.getElementById("name").value;
            const email = document.getElementById("mail").value;
            const data = new Data(username, email);
            console.log('arr :>> ', data);
            localStorage.setItem("formdata", JSON.stringify(data))
        }
        function showData() {
            const data = JSON.parse(localStorage.getItem("formdata"))
            console.log('data :>> ', data);
            
            $.each(data, function (key, value) {
                console.log(key + ': ' + value);
                const row =`<tr>
                                <td>${value}</td>
                                <td>${value}</td>
                            </tr>`
                $("table").append(row)
            });
            // console.log('arr :>> ', arr);

            // for (let i = 0; i < arr.length; i++) {
            //     const element = arr[i];

            //     var row = table.insertRow(-1);

            //     // Insert cells for each item in the row
            //     var cell1 = row.insertCell(0);
            //     var cell2 = row.insertCell(1);

            //     // Set the text of the cells to the values in the item object
            //     cell1.innerHTML = item.name;
            //     cell2.innerHTML = item.email;
            // }
            // Get the data from local storage
            // let data = localStorage.getItem("formdata");

            // Parse the data into a JavaScript object
            // const dataObject = JSON.parse(data);

            // Get a reference to the table element
            // const table = document.getElementById('tbl');

            // Iterate through the data object and add each item to the table
            // for (let i = 0; i < data.length; i++) {
            //     let row = `<tr>
            //                     <td>${data[i].mail}</td>
            //                     <td>${data[i].name}</td>
            //                 </tr>`
            //     table.innerHTML+= table.innerHTML + row
            //     document.write(row)
            // }

        }
    </script>
</body>

</html>